<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Application</title>
    <meta name="csrf-token" content="<%= csrfToken %>">
    <link href="https://cdn.jsdelivr.net/npm/flowbite@3.1.2/dist/flowbite.min.css" rel="stylesheet" />

    <script src="https://cdn.tailwindcss.com"></script>

</head>
<body class="bg-purple-100">
<!-- Navbar -->
<nav class="bg-gradient-to-r from-purple-900 via-indigo-800 to-purple-900 shadow-xl">
  <div class="max-w-screen-xl px-8 mx-auto flex items-center justify-between h-24">
    <!-- Brand Name with Gradient Text -->
    <a href="/" class="text-transparent bg-clip-text bg-gradient-to-r from-pink-400 to-orange-400 text-4xl font-extrabold tracking-widest">
      EmotiCare
    </a>

    <!-- Nav Links -->
    <div class="hidden md:flex space-x-6">
      <a href="/" class="relative text-white text-lg font-semibold hover:text-orange-400 transition duration-300 ease-in-out px-4 py-2 rounded-lg">
        <span class="absolute inset-0 bg-gradient-to-r from-purple-500 to-pink-500 opacity-25 rounded-lg -z-10 transition-transform transform hover:scale-110"></span>
        Home
      </a>
      <a href="/aiapp" class="relative text-white text-lg font-semibold hover:text-orange-400 transition duration-300 ease-in-out px-4 py-2 rounded-lg">
        <span class="absolute inset-0 bg-gradient-to-r from-purple-500 to-pink-500 opacity-25 rounded-lg -z-10 transition-transform transform hover:scale-110"></span>
        Emoti AI 
      </a>
      <a href="/profile" class="relative text-white text-lg font-semibold hover:text-orange-400 transition duration-300 ease-in-out px-4 py-2 rounded-lg">
        <span class="absolute inset-0 bg-gradient-to-r from-purple-500 to-pink-500 opacity-25 rounded-lg -z-10 transition-transform transform hover:scale-110"></span>
        Profile
      </a>
      <% if (user && user.role !== 'user') { %>  
        <a href="/admin" class="relative text-white text-lg font-semibold hover:text-orange-400 transition duration-300 ease-in-out px-4 py-2 rounded-lg">
          <span class="absolute inset-0 bg-gradient-to-r from-purple-500 to-pink-500 opacity-25 rounded-lg -z-10 transition-transform transform hover:scale-110"></span>
          Admin
        </a>
      <% } %>
      <a href="/logout" class="relative text-white text-lg font-semibold hover:text-orange-400 transition duration-300 ease-in-out px-4 py-2 rounded-lg">
        <span class="absolute inset-0 bg-gradient-to-r from-purple-500 to-pink-500 opacity-25 rounded-lg -z-10 transition-transform transform hover:scale-110"></span>
        Logout
      </a>
    </div>

    <!-- Mobile Menu Button -->
    <button id="menuButton" class="md:hidden text-white focus:outline-none">
      <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
      </svg>
    </button>
  </div>

  <!-- Mobile Menu -->
  <div id="mobileMenu" class="md:hidden hidden px-8 pb-4">
    <a href="/" class="block text-white text-lg py-2 hover:text-orange-300 transition duration-300 ease-in-out">Home</a>
    <a href="/aiapp" class="block text-white text-lg py-2 hover:text-orange-300 transition duration-300 ease-in-out">AI App</a>
    <a href="/profile" class="block text-white text-lg py-2 hover:text-orange-300 transition duration-300 ease-in-out">Profile</a>
    <% if (user && user.role !== 'user') { %>  
      <a href="/admin" class="block text-white text-lg py-2 hover:text-orange-300 transition duration-300 ease-in-out">Admin</a>
    <% } %>
    <a href="/logout" class="block text-white text-lg py-2 hover:text-orange-300 transition duration-300 ease-in-out">Logout</a>
  </div>
</nav>

<!-- Toggle Script for Mobile Menu -->
<script>
  const menuButton = document.getElementById('menuButton');
  const mobileMenu = document.getElementById('mobileMenu');

  menuButton.addEventListener('click', () => {
    mobileMenu.classList.toggle('hidden');
  });
</script>